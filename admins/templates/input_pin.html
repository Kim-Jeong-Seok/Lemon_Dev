{% extends 'base.html' %}
{% block title %}레몬::정보변경{% endblock title %}
{% block container %}
<style>
  #footer {
    display: none;
  }

  .loader-main{
    bottom:0px !important;
  }

  input {
    border-radius: 10px;
    margin-top: 30px;
    padding: 10px;
    width: 80%;
    border: 1px solid #93bcf9;
    text-align: left;
    padding-left: 20%;
  }

  .footer-line-myinfo{
    /* 하단바 선택시 밑줄 */
    width: 50px;
    padding: 7px 0 5px 0;
    border-bottom: 2px solid #fff;
  }
  input[type=number] {
      border-radius: 10px;
    margin-top: 30px;
    padding: 10px;
    width: 320px;
    border: 1px solid #93bcf9;
    text-align: left;
    padding-left: 60px;
    -webkit-text-security: disc;
    letter-spacing: 60px;
            }
</style>
{% block nav %}
<!-- 상단바 영역 시작 -->
<div id="nav" style="border-bottom: 1px solid #f1f1f1;">
  <div>
    <div style="text-align:center;">
      <a style="color: #fff;" href="{% url 'accounts:myinfo' %}">
        <i class="fa fa-angle-left"></i>
      </a>Pin 번호 변경
    </div>
  </div>
</div>
<!-- 상단바 영역 끝 -->
{% endblock nav %}

  <form action="" method="POST" id="pin_saver">
    {% csrf_token %}
    <div class="pin-wrap">
      <input id="pin_save" type="text" pattern="[0-9]{4}" inputmode="numeric" name="pin" maxlength='4' />
    </div>
    <div class="pin-btn-wrap">
      <button class="pin-btn" type="button" onclick="check()">Pin 번호 변경</button>
    </div>
  </form>

  <script>
  function check(){
    var pin = $('#pin_save').val();
    if ( pin == ''){
      alert('핀번호를 입력 부탁드립니다.');
      return false;
    }
    if (!pin.match(/^[0-9]{4}$/)) {
       alert('Pin 번호 4자리를 입력해주세요.');
       return false;
    }
    else{
      alert('핀번호가 변경되었습니다.');
    const form = document.getElementById('pin_saver');
    form.submit();
    }
  }
</script>
{% endblock %}